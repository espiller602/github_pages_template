---
title: "Data Acquisition Project"
author: "Eli Spiller"
date: "2025-11-12"
format:
  html:
    code-fold: true
    toc: true
---
### Introduction
American Football has more moving parts than almost any other sport. Offense and Defense are separate groups of players. Within each of these are four to five different kinds of players who all have different roles on the field. Each Team has 11 on the field at a time. The sheer number of moving parts on one play, for both offense and defense, is immense. Using data on team offense from the 2018 to the 2024 seasons, I wanted to investigate how Net Passing Yards per attempt (Passing NY/A) and Rushing Yards per attempt (Rushing Y/A) have changed through this period and if there is any link between these metrics. I also wanted to know how teams that make the postseason perform in these metrics compared to the other teams in the league. This data is interesting because it can capture shifts in offensive tendencies over time and give insight into the tendencies of successful offensive teams. 

Gathering the data was done using Pro-Football-Reference.com. This website does not allow any bot scraping for its football data, according to their robots.txt, but they do allow data to be downloaded for free. In order to obtain the data, I downloaded Excel files for the tables I wanted. However, the data was not actually stored as an Excel but as an HTML table. I used pandas to read the HTML from each file, which I stored in one folder. There were 14 files total: One that contained the teams that made it to the postseason for each season, and one that had offensive data in a variety of metrics, including passing NY/A and rushing Y/A for each team in a season. I combined the offensive data into one data set, adding columns to mark the season and which teams won a postseason game, which was taken from the postseason teams data sets for each season. 

The final data set has 244 rows and 30 columns, representing various offensive metrics, including whether or not they won a playoff game, for all 32 teams from the 2018 to the 2024 season

### EDA overview
This table shows, for a given season, according to my analysis, how many of the teams that won at least one playoff game were above league average in both Passing NY/A and Rushing Y/A for a given season, or above average in just one or neither metric. Many teams that win playoff games are rather balanced. 2018 and 2021 are the only years in which less than 50% of teams that won at least one playoff game were above league average in both metrics simultaneously. Defensive schemes tend to become more aggressive in the playoffs, so balanced teams might have an advantage since they can rely on both to generate points (rather than being vulnerable to having either the passing or rushing attack completely limited by the defense, which forces them to rely on more inefficient offense).


| Season | Postseason Winners | Both | Passing | Rushing | Neither |
|--------|------------------|------|---------|---------|---------|
| 2018   | 8                | 3    | 4       | 1       | 0       |
| 2019   | 7                | 5    | 1       | 1       | 0       |
| 2020   | 8                | 4    | 3       | 1       | 0       |
| 2021   | 6                | 2    | 4       | 0       | 0       |
| 2022   | 8                | 5    | 2       | 1       | 0       |
| 2023   | 8                | 6    | 2       | 0       | 0       |
| 2024   | 7                | 4    | 1       | 0       | 2       |

#### passing vs rushing over time

![Passing NY/A and Rushing Y/A from 2018-2024 ](images/efficiency%20per%20season.png){ width=500px style="display:block; margin:auto;" }

Interestingly, both passing NY/A and rushing Y/A didn't fluctuate much across the seven-season sample. Looking at the overall and within-season standard deviations, we can confirm that neither metric varies by a significant amount. This could be due to a variety of reasons. The league is constantly adjusting to limit explosive plays, whether passing or running. Even above-average season outliers tend to regress towards the mean over multiple seasons in terms of their run and pass efficiency. Thus, given the constant evolution, not just offensively but defensively, the averages don't change much due to this constant chess match between offenses and defenses.


#### Per Season

| Season | Passing_NY/A Mean | Passing_NY/A Std | Rushing_Y/A Mean | Rushing_Y/A Std |
|--------|-----------------|----------------|-----------------|----------------|
| 2018   | 6.400           | 0.792          | 4.419           | 0.342          |
| 2019   | 6.306           | 0.733          | 4.284           | 0.505          |
| 2020   | 6.431           | 0.732          | 4.384           | 0.428          |
| 2021   | 6.225           | 0.707          | 4.306           | 0.421          |
| 2022   | 6.116           | 0.643          | 4.434           | 0.450          |
| 2023   | 6.063           | 0.853          | 4.175           | 0.403          |
| 2024   | 6.247           | 0.818          | 4.406           | 0.472          |



#### Across All Seasons

| Metric        | Mean  | Std   |
|---------------|-------|-------|
| Passing_NY/A  | 6.255 | 0.757 |
| Rushing_Y/A   | 4.344 | 0.437 |

#### Passing NY/A and Rushing Y/A plotted for every team per season
![Passing NY/A and Rushing Y/A from 2018-2024](images/passing%20vs%20rushing%20per%20season%20regression%20plots.png){ width=500px style="display:block; margin:auto;" }

However, the relationship between both passing NY/A and rushing Y/A per season varies more. This can also be seen in the scatter plots. Possible reasons for this could be the variance in the number of teams per season that are substantially above average in both metrics. More teams that are farther above average in both could inflate the slope of the lines in the scatterplots and the correlation coefficients, as well as some teams being outliers on how far above the average they are could also inflate the correlation in a given season. Except for 2024, which had an abnormal high correlation coefficient, correlation is generally low, suggesting teams may specialize in passing or rushing rather than excel at both.

#### Correlation Between Passing NY/A and Rushing Y/A

| Season  | Correlation |
|---------|------------|
| Overall | 0.28       |
| 2018    | 0.23       |
| 2019    | 0.27       |
| 2020    | 0.15       |
| 2021    | 0.13       |
| 2022    | 0.15       |
| 2023    | 0.33       |
| 2024    | 0.58       |

### further info
All data gathered from [Pro Football Reference](https://www.pro-football-reference.com/years). 

For each season,the tables are found here https://www.pro-football-reference.com/years/YEAR/#team_stats and https://www.pro-football-reference.com/years/YEAR/#playoff_results, where YEAR is the actual year (insert the year you want to find into the links)

All code used to process, format, and analyze the data is [here](https://github.com/espiller602/data-acquisition-files)



